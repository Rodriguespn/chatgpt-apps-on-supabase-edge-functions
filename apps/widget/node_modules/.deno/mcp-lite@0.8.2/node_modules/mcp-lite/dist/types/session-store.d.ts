export type EventId = string;
export type SessionId = string;
export interface SessionMeta {
    protocolVersion: string;
    clientInfo?: unknown;
    clientCapabilities?: {
        elicitation?: Record<string, never>;
        roots?: Record<string, never>;
        sampling?: Record<string, never>;
        [key: string]: unknown;
    };
}
export interface StreamData {
    nextEventId: number;
    eventBuffer: EventData[];
}
export interface SessionData {
    meta: SessionMeta;
    streams: Map<string, StreamData>;
}
export interface EventData {
    id: EventId;
    message: unknown;
}
export interface SessionAdapter {
    generateSessionId(): string;
    create(id: SessionId, meta: SessionMeta): Promise<SessionData> | SessionData;
    has(id: SessionId): Promise<boolean> | boolean;
    get(id: SessionId): Promise<SessionData | undefined> | SessionData | undefined;
    appendEvent(id: SessionId, streamId: string, message: unknown): Promise<EventId | undefined> | EventId | undefined;
    replay(id: SessionId, lastEventId: EventId, write: (eventId: EventId, message: unknown) => Promise<void> | void): Promise<void> | void;
    delete(id: SessionId): Promise<void> | void;
}
/**
 * InMemorySessionAdapter is a simple session adapter that stores sessions in memory.
 * It is useful for testing and development.
 * It is not recommended for production use, unless you are running a small, simple, single, and long-lived MCP server instance.
 */
export declare class InMemorySessionAdapter implements SessionAdapter {
    #private;
    maxEventBufferSize: number;
    constructor({ maxEventBufferSize }: {
        maxEventBufferSize: number;
    });
    generateSessionId(): string;
    create(id: SessionId, meta: SessionMeta): SessionData;
    has(id: SessionId): boolean;
    get(id: SessionId): SessionData | undefined;
    delete(id: SessionId): void;
    appendEvent(id: SessionId, streamId: string, message: unknown): Promise<EventId | undefined> | EventId | undefined;
    replay(id: SessionId, lastEventId: EventId, write: (eventId: EventId, message: unknown) => Promise<void> | void): Promise<void>;
}
//# sourceMappingURL=session-store.d.ts.map