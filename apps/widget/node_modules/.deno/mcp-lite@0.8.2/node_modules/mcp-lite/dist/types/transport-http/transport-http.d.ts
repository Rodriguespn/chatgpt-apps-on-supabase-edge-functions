import type { AuthInfo } from "../auth.js";
import type { ClientRequestAdapter } from "../client-request-adapter.js";
import type { McpServer } from "../core.js";
import type { SessionAdapter } from "../session-store.js";
export interface StreamableHttpTransportOptions {
    sessionAdapter?: SessionAdapter;
    clientRequestAdapter?: ClientRequestAdapter;
    /** Allowed Origin headers for CORS validation  */
    allowedOrigins?: string[];
    /** Allowed Host headers for preventing Host header attacks */
    allowedHosts?: string[];
}
export declare class StreamableHttpTransport {
    private server?;
    private sessionAdapter?;
    private clientRequestAdapter?;
    private allowedOrigins?;
    private allowedHosts?;
    private sessionStreams;
    private requestStreams;
    constructor(options?: StreamableHttpTransportOptions);
    private getRequestWriter;
    private getSessionWriter;
    private cleanupSession;
    private getClientCapabilities;
    private getSessionProtocolVersion;
    private sendClientRequest;
    bind(server: McpServer): (request: Request, options?: {
        authInfo?: AuthInfo;
    }) => Promise<Response>;
    private handleRequest;
    /**
     * Validates the MCP-Protocol-Version header based on session version
     * Returns null if valid, or an error Response if invalid
     */
    private validateProtocolHeader;
    private handlePost;
    private handleBatchRequest;
    private handlePostSse;
    private handleGet;
    private handleDelete;
}
//# sourceMappingURL=transport-http.d.ts.map